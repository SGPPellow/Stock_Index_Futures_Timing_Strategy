<!DOCTYPE html>
<html>
<head>
  <title>Signal1 Table</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js" ></script>
</head>
<body>
  <div id="graphDiv"></div>
  <script>
    const csv = "https://github.com/SGPPellow/Stock_Index_Futures_Timing_Strategy/blob/main/index_data.csv"

    function plotFromCSV() {
        Plotly.d3.csv(CSV, function(err, rows) {
            console.log(rows);
            processData(rows);
        });
    }
    
    function processData(allRows) {
        let x = [];
        let y = [];
        let row;

        let i = 0;
        while (i < allRows.length) {
            row = allRows[i];
            x.push(row["date"]);
            y1.push(row["Signal1"]);
            i += 1;
        }    
        console.log("X", x);
        console.log("Y", y);

        makePlotly(x, y);
    } 

    function makePlotly(x) {
        let traces = [
            {
                x: x,
                y: y,
                name: "A",
                line: {
                    color: "#387fba",
                    width: 3
                }
            },    
        ];

        let layout = {
            title: "Basic Line Chart",
            yaxis: {
                range: [0, 100]
            },
            xaxis: {
                // tickformat: "%d/%m/%y"
            },
        };

    //https://plot.ly/javascript/configuration-options/
        let config = { 
            responsive: true,
            // staticPlot: true,
            // editable: true
        };

        Plotly.newPlot("graphDiv", traces, layout, config);
    }


  </script>
</body>
</html>
